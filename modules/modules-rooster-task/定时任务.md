# 定时任务

## 思路

### 1. worker-app 执行任务的应用

```markdown
1. 自定义注解，完成定时任务方法的注册。
	1.1 注册到manager应用中
	1.2 提供信息：任务名称、任务编号、任务方法全限定名、参数类型。
```



### 2. manager-app 管理定时任务的应用







##  数据库表

* id  主键id
* task_type  任务类型（1-通过URL触发 2-遍历容器中的bean触发）
* exec_type  执行方式 (1-单节点执行 2-全节点执行)
* task_no  任务编号
* task_name  任务名
* corn  执行表达式
* task_url 执行地址
* task_bean_name  spring容器中的bean名称
* task_param 执行参数(JSON格式 多个入参用|分隔,保证入参的顺序与方法一致)
* task_method 执行请求方法(GET\POST\PUT\DELETE...) 或者是bean下的某个方法名
* contacts_name  联系人
* contacts_phone  联系人电话
* contacts_email  联系人邮箱
* enable_flag  是否启用
* create_time  创建时间
* update_time  更新时间
* last_exec_time  最后执行时间
* exec_num  执行次数

